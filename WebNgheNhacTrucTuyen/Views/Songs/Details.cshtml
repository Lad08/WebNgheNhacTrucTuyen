@model WebNgheNhacTrucTuyen.Models.Songs

@{
    ViewData["Title"] = "Chi tiết bài hát";
}

<h1>@Model.S_Title</h1>
<p>Thể loại: @Model.Genre?.G_Name</p>
<p><strong>Nghệ sĩ:</strong> @Model.Artist.ART_Name</p>
<p><strong>Ngày đăng tải phát hành:</strong>@Model.S_UploadDate </p>
<p>Uploaded by: @Model.User.U_FullName</p>
<a href="@Model.S_FilePath" download>Download Song</a>
<a asp-action="EditSong" asp-route-id="@Model.S_Id" class="btn btn-warning">Sửa</a>
<a asp-controller="Playlists" asp-action="AddSongToPlaylist" class="btn btn-success">Thêm bài hát vào Playlist</a>



<audio controls>
    <source src="@Url.Content(Model.S_FilePath)" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>

<h3>Lời bài hát</h3>
@if (ViewBag.LyricsContent != null)
{
    <div class="lyrics-content">
        <pre style="white-space: pre-wrap;">@ViewBag.LyricsContent</pre>
    </div>
}
else
{
    <p><em>Chưa có lyrics cho bài hát này.</em></p>
}

@if (Model.Lyrics == null)
{
    <a asp-action="UploadLyrics" asp-route-songId="@Model.S_Id" class="btn btn-success">Tải lên Lyrics</a>
}
else
{
    <a asp-action="EditLyrics" asp-route-id="@Model.Lyrics.L_Id" class="btn btn-warning">Chỉnh sửa Lyrics</a>
    <form asp-action="DeleteLyrics" asp-route-id="@Model.Lyrics.L_Id" method="post" style="display:inline;">
        <button type="submit" class="btn btn-danger" onclick="return confirm('Bạn có chắc chắn muốn xóa lyrics này không?');">Xóa Lyrics</button>
    </form>
}
